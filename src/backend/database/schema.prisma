datasource db {
  provider = "mysql"
  url      = "mysql://janedoe:mypassword@127.0.0.1:3001/mydb"
}

generator db {
  provider  = "prisma-client-py"
  interface = "sync"
}

model Route {
  id        Int       @id @default(autoincrement())
  name      String
  points    point[]
  createdAt DateTime  @default(now())
  Analyze   Analyze[]
}

model point {
  id        Int      @id @default(autoincrement())
  name      String
  pointX    Float
  pointY    Float
  createdAt DateTime @default(now())
  Route     Route    @relation(fields: [routeId], references: [id])
  routeId   Int
}

model Analyze {
  id         Int            @id @default(autoincrement())
  route      Route          @relation(fields: [routeId], references: [id])
  routeId    Int
  name       String
  startDate  DateTime
  endDate    DateTime
  supervisor String
  operator   String
  images     imageAnalyse[]
  createdAt  DateTime       @default(now())
}

model robo {
  id        Int      @id @default(autoincrement())
  name      String
  ip        String
  createdAt DateTime @default(now())
}

model imageAnalyse {
  id        Int      @id @default(autoincrement())
  name      String
  path      String
  createdAt DateTime @default(now())
  Analyze   Analyze  @relation(fields: [analyzeId], references: [id])
  analyzeId Int
}
